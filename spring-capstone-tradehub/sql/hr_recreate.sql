DROP TABLE USERTABLE;
DROP TABLE USERPREFERENCE;
DROP TABLE STOCK;
DROP TABLE HOLDING;
DROP TABLE TRANSACTION;
DROP TABLE INSTRUMENT;
CREATE TABLE Instrument (
    instrumentId VARCHAR2(255) PRIMARY KEY,
    externalIdType VARCHAR2(255),
    externalId VARCHAR2(255),
    categoryId VARCHAR2(255),
    instrumentDescription VARCHAR2(255),
    maxQuantity NUMBER,
    minQuantity NUMBER
);
CREATE TABLE Holding (
    holdingId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    instrumentId VARCHAR2(255),
    quantity NUMBER,
    buyPrice NUMBER,
    userId NUMBER,
    FOREIGN KEY (instrumentId) REFERENCES Instrument(instrumentId)
);
CREATE TABLE Stock (
    stockId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    askPrice NUMBER,
    bidPrice NUMBER,
    priceTimestamp VARCHAR2(255),
    instrumentId VARCHAR2(255),
    FOREIGN KEY (instrumentId) REFERENCES Instrument(instrumentId)
);
CREATE TABLE Transaction (
    transactionId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    instrumentId VARCHAR2(255),
    isBuy NUMBER,
    buySellPrice NUMBER,
    quantity NUMBER,
    transactionDate VARCHAR2(255),
    userId NUMBER,
    FOREIGN KEY (instrumentId) REFERENCES Instrument(instrumentId)
);
CREATE TABLE UserPreference (
    userPreferenceId NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    investmentPurpose VARCHAR2(255),
    riskTolerance VARCHAR2(255),
    incomeCategory VARCHAR2(255),
    lengthOfInvestment VARCHAR2(255),
    acceptedRoboAdvisor NUMBER,
    isEmpty NUMBER
);
CREATE TABLE UserTable (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email VARCHAR2(255),
    personalName VARCHAR2(255),
    country VARCHAR2(255),
    dob VARCHAR2(255),
    riskAppetite VARCHAR2(255),
    userPreferenceId NUMBER,
    balance NUMBER,
    FOREIGN KEY (userPreferenceId) REFERENCES UserPreference(userPreferenceId)
);

--[
--    {
--        "askPrice": 104.75,
--        "bidPrice": 104.25,
--        "priceTimestamp": "21-AUG-19 10.00.01.042000000 AM GMT",
--        "instrument": {
--            "instrumentId": "N123456",
--            "externalIdType": "CUSIP",
--            "externalId": "46625H100",
--            "categoryId": "STOCK",
--            "instrumentDescription": "JPMorgan Chase & Co. Capital Stock",
--            "maxQuantity": 1000,
--            "minQuantity": 1
--        }
--    },
--    {
--        "askPrice": 312500,
--        "bidPrice": 312000,
--        "priceTimestamp": "21-AUG-19 05.00.00.040000000 AM -05:00",
--        "instrument": {
--            "instrumentId": "N123789",
--            "externalIdType": "ISIN",
--            "externalId": "US0846707026",
--            "categoryId": "STOCK",
--            "instrumentDescription": "Berkshire Hathaway Inc. Class A",
--            "maxQuantity": 10,
--            "minQuantity": 1
--        }
--    },
--    {
--        "askPrice": 95.92,
--        "bidPrice": 95.42,
--        "priceTimestamp": "21-AUG-19 10.00.02.042000000 AM GMT",
--        "instrument": {
--            "instrumentId": "C100",
--            "externalIdType": "CUSIP",
--            "externalId": "48123Y5A0",
--            "categoryId": "CD",
--            "instrumentDescription": "JPMorgan Chase Bank, National Association 01/19",
--            "maxQuantity": 1000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 1.03375,
--        "bidPrice": 1.03390625,
--        "priceTimestamp": "21-AUG-19 10.00.02.000000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67890",
--            "externalIdType": "CUSIP",
--            "externalId": "9128285M8",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Note 3.125 15nov2028 10Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 0.998125,
--        "bidPrice": 0.99828125,
--        "priceTimestamp": "21-AUG-19 10.00.02.002000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67894",
--            "externalIdType": "CUSIP",
--            "externalId": "9128285Z9",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Note 2.5 31jan2024 5Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 1,
--        "bidPrice": 1.00015625,
--        "priceTimestamp": "21-AUG-19 10.00.02.002000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67895",
--            "externalIdType": "CUSIP",
--            "externalId": "9128286A3",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Note 2.625 31jan2026 7Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 0.999375,
--        "bidPrice": 0.999375,
--        "priceTimestamp": "21-AUG-19 10.00.02.002000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67897",
--            "externalIdType": "CUSIP",
--            "externalId": "9128285X4",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Note 2.5 31jan2021 2Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 0.999375,
--        "bidPrice": 0.999375,
--        "priceTimestamp": "21-AUG-19 10.00.02.002000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67899",
--            "externalIdType": "CUSIP",
--            "externalId": "9128285V8",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Notes 2.5% 15jan2022 3Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 1.00375,
--        "bidPrice": 1.00375,
--        "priceTimestamp": "21-AUG-19 10.00.02.002000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67880",
--            "externalIdType": "CUSIP",
--            "externalId": "9128285U0",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Note 1.5 31dec2023 5Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 1.0596875,
--        "bidPrice": 1.0596875,
--        "priceTimestamp": "21-AUG-19 10.00.02.002000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67883",
--            "externalIdType": "CUSIP",
--            "externalId": "912810SE9",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Bond 3.375 15nov2048 30Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 0.9853125,
--        "bidPrice": 0.98546875,
--        "priceTimestamp": "21-AUG-19 10.00.02.002000000 AM GMT",
--        "instrument": {
--            "instrumentId": "T67878",
--            "externalIdType": "CUSIP",
--            "externalId": "912810SD1",
--            "categoryId": "GOVT",
--            "instrumentDescription": "USA, Bond 3 15aug2048 30Y",
--            "maxQuantity": 10000,
--            "minQuantity": 100
--        }
--    },
--    {
--        "askPrice": 1162.42,
--        "bidPrice": 1161.42,
--        "priceTimestamp": "21-AUG-19 06.52.20.350000000 PM AMERICA/NEW_YORK",
--        "instrument": {
--            "instrumentId": "Q123",
--            "externalIdType": "CUSIP",
--            "externalId": "02079K107",
--            "categoryId": "STOCK",
--            "instrumentDescription": "Alphabet Inc. Class C Capital Stock",
--            "maxQuantity": 1000,
--            "minQuantity": 1
--        }
--    },
--    {
--        "askPrice": 323.39,
--        "bidPrice": 322.89,
--        "priceTimestamp": "21-AUG-19 06.52.20.356000000 PM AMERICA/NEW_YORK",
--        "instrument": {
--            "instrumentId": "Q456",
--            "externalIdType": "CUSIP",
--            "externalId": "88160R101",
--            "categoryId": "STOCK",
--            "instrumentDescription": "Tesla, Inc. Common Stock",
--            "maxQuantity": 1000,
--            "minQuantity": 1
--        }
--    }
--]

--INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
--VALUES ('INST5', 'Type5', 'Ext5', 'Category5', 'Instrument 5 Description', 120, 12);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('N123456', 'CUSIP', '46625H100', 'STOCK', 'JPMorgan Chase and Co. Capital Stock', 1000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('N123789', 'ISIN', 'US0846707026', 'STOCK', 'Berkshire Hathaway Inc. Class A', 1000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('C100', 'CUSIP', '48123Y5A0', 'CD', 'JPMorgan Chase Bank, National Association 01/19', 1000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67890', 'CUSIP', '9128285M8', 'GOVT', 'USA, Note 3.125 15nov2028 10Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67894', 'CUSIP', '9128285Z9', 'GOVT', 'USA, Note 2.5 31jan2024 5Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67895', 'CUSIP', '9128286A3', 'GOVT', 'USA, Note 2.625 31jan2026 7Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67897', 'CUSIP', '9128285X4', 'GOVT', 'USA, Note 2.5 31jan2021 2Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67899', 'CUSIP', '9128285V8', 'GOVT', 'USA, Notes 2.5% 15jan2022 3Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67880', 'CUSIP', '9128285U0', 'GOVT', 'USA, Note 1.5 31dec2023 5Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67883', 'CUSIP', '912810SE9', 'GOVT', 'USA, Bond 3.375 15nov2048 30Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('T67878', 'CUSIP', '912810SD1', 'GOVT', 'USA, Bond 3 15aug2048 30Y', 10000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('Q123', 'CUSIP', '02079K107', 'STOCK', 'Alphabet Inc. Class C Capital Stock', 1000, 1);

INSERT INTO Instrument (instrumentId, externalIdType, externalId, categoryId, instrumentDescription, maxQuantity, minQuantity)
VALUES ('Q456', 'CUSIP', '88160R101', 'STOCK', 'Tesla, Inc. Common Stock', 1000, 1);

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (104.75, 104.25, '21-AUG-19 10.00.01.042000000 AM GMT', 'N123456');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (312500, 312000, '21-AUG-19 05.00.00.040000000 AM -05:00', 'N123789');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (95.92, 95.42, '21-AUG-19 10.00.02.042000000 AM GMT', 'C100');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (1.03375, 1.03390625, '21-AUG-19 10.00.02.000000000 AM GMT', 'T67890');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (0.998125, 0.99828125, '21-AUG-19 10.00.02.002000000 AM GMT', 'T67894');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (1, 1.00015625, '21-AUG-19 10.00.02.002000000 AM GMT', 'T67895');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (0.999375, 0.999375, '21-AUG-19 10.00.02.002000000 AM GMT', 'T67897');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (0.999375, 0.999375, '21-AUG-19 10.00.02.002000000 AM GMT', 'T67899');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (1.00375, 1.00375, '21-AUG-19 10.00.02.002000000 AM GMT', 'T67880');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (1.0596875, 1.0596875, '21-AUG-19 10.00.02.002000000 AM GMT', 'T67883');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (0.9853125, 0.98546875, '21-AUG-19 10.00.02.002000000 AM GMT', 'T67878');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (1162.42, 1161.42, '21-AUG-19 06.52.20.350000000 PM AMERICA/NEW_YORK', 'Q123');

INSERT INTO Stock (askPrice, bidPrice, priceTimestamp, instrumentId)
VALUES (323.39, 322.89, '21-AUG-19 06.52.20.356000000 PM AMERICA/NEW_YORK', 'Q456');



VALUES (55, 50, '2023-09-20', 'INST5');
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST1', 1, 52, 10, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 1);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST2', 0, 58, 15, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 2);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST3', 1, 47, 8, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 3);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST4', 0, 72, 12, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 4);
INSERT INTO Transaction (instrumentId, isBuy, buySellPrice, quantity, transactionDate, userId)
VALUES ('INST5', 1, 54, 9, TO_DATE('2023-09-20', 'YYYY-MM-DD'), 5);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose1', 'High', 'IncomeCat1', 'Long', 1, 0);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose2', 'Medium', 'IncomeCat2', 'Medium', 0, 0);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose3', 'Low', 'IncomeCat3', 'Short', 1, 0);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose4', 'High', 'IncomeCat4', 'Long', 0, 1);
INSERT INTO UserPreference (investmentPurpose, riskTolerance, incomeCategory, lengthOfInvestment, acceptedRoboAdvisor, isEmpty)
VALUES ('Purpose5', 'Medium', 'IncomeCat5', 'Medium', 1, 0);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId,balance)
VALUES ('user1@example.com', 'User 1', 'Country1', '1990-01-01', 'High', 1,10000000000);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId,balance)
VALUES ('user2@example.com', 'User 2', 'Country2', '1995-02-15', 'Medium',2,100000000000);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId,balance)
VALUES ('user3@example.com', 'User 3', 'Country3', '1985-03-30', 'Low', 3,1000000000);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId,balance)
VALUES ('user4@example.com', 'User 4', 'Country4', '1980-04-20', 'High', 4,10000000000);
INSERT INTO UserTable (email, personalName, country, dob, riskAppetite, userPreferenceId,balance)
VALUES ('user5@example.com', 'User 5', 'Country5', '1998-05-10', 'Medium', 5,10000000);
COMMIT;